diff a/drivers/video/fbdev/msm/mdss_mdp_pp_cache_config.c b/drivers/video/fbdev/msm/mdss_mdp_pp_cache_config.c	(rejected hunks)
@@ -680,7 +680,7 @@ static int pp_pcc_cache_params_v1_7(struct mdp_pcc_cfg_data *config,
 			(void *) v17_cache_data;
 		if (copy_from_user(&v17_usr_config, config->cfg_payload,
 				   sizeof(v17_usr_config))) {
-#ifdef CONFIG_FB_MSM_MDSS_KCAL_CTRL
+#if defined(CONFIG_FB_MSM_MDSS_KCAL_CTRL) || defined(CONFIG_FLIKER_FREE)
 			memcpy(&v17_usr_config, config->cfg_payload, sizeof(v17_usr_config));
 			ret = 0;
 #else
@@ -1199,7 +1199,7 @@ static int pp_pa_cache_params_v1_7(struct mdp_pa_v2_cfg_data *config,
 
 	if (copy_from_user(&pa_usr_config, config->cfg_payload,
 			   sizeof(pa_usr_config))) {
-#ifdef CONFIG_FB_MSM_MDSS_KCAL_CTRL
+#if defined(CONFIG_FB_MSM_MDSS_KCAL_CTRL) || defined(CONFIG_FLIKER_FREE)
 		pr_err("%s Failed to copy v1_7 PA - copying in kernel \n",__func__);
 		memcpy(&pa_usr_config, config->cfg_payload, sizeof(pa_usr_config));
 		ret = 0;
